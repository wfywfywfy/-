(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19380bb6"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),Math.easeInOutQuad=function(e,t,a,o){return e/=o/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var l=n(),r=e-l,s=20,c=0;t="undefined"===typeof t?500:t;var d=function e(){c+=s;var n=Math.easeInOutQuad(c,l,r,t);i(n),c<t?o(e):a&&"function"===typeof a&&a()};d()}},"10a7":function(e,t,a){"use strict";function o(e,t){var a={};return a.currentPage=(e-1)*t,a.pageSize=t,a}a.d(t,"a",(function(){return o}))},2451:function(e,t,a){"use strict";a("5392")},2934:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n}));var o=a("b775");function i(e){return Object(o["a"])({url:"/admin/v1/city/cityTree",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/admin/v1/city/partyTree",method:"post",data:e})}},5392:function(e,t,a){},6724:function(e,t,a){"use strict";a("8d41");var o="@@wavesContext";function i(e,t){function a(a){var o=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},o),n=i.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var l=n.getBoundingClientRect(),r=n.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(l.width,l.height)+"px",n.appendChild(r)),i.type){case"center":r.style.top=l.height/2-r.offsetHeight/2+"px",r.style.left=l.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(a.pageY-l.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(a.pageX-l.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=i.color,r.className="waves-ripple z-active",!1}}return e[o]?e[o].removeHandle=a:e[o]={removeHandle:a},a}var n={bind:function(e,t){e.addEventListener("click",i(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[o].removeHandle,!1),e.addEventListener("click",i(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[o].removeHandle,!1),e[o]=null,delete e[o]}},l=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(l)),n.install=l;t["a"]=n},"8d41":function(e,t,a){},a610:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"poor"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("CityTree",{on:{getCityId:e.handleGetCityId}})],1),a("el-col",{attrs:{span:21}},[a("div",{staticClass:"PovertyInfo"},[a("div",{staticClass:"heder-title"},[a("div",{staticClass:"item-con"},[a("div",{staticClass:"item"},[a("div",{staticClass:"itemleft"},[e._v(" 全部: "+e._s(e.obj.totalFam||0)+"户 ")]),a("div",{staticClass:"itemright"},[e._v(" "+e._s(e.obj.totalNum||0)+"人 ")])]),a("div",{staticClass:"item item1"},[a("div",{staticClass:"itemleft"},[e._v(" 已脱贫: "+e._s(e.obj.outPoorFam)+"户 ")]),a("div",{staticClass:"itemright"},[e._v(" "+e._s(e.obj.outPoorNum)+"人 ")])]),a("div",{staticClass:"item item2"},[a("div",{staticClass:"itemleft"},[e._v(" 贫困数:"+e._s(e.obj.poorFam)+"户 ")]),a("div",{staticClass:"itemright"},[e._v(" "+e._s(e.obj.poorNum)+"人 ")])]),a("div",{staticClass:"item item3"},[a("div",{staticClass:"itemleft"},[e._v(" 预脱贫:"+e._s(e.obj.earlyOutPoorFam)+"户 ")]),a("div",{staticClass:"itemright"},[e._v(" "+e._s(e.obj.earlyOutPoorNum)+"人 ")])]),a("div",{staticClass:"item item4"},[a("div",{staticClass:"itemleft"},[e._v(" 返贫数:"+e._s(e.obj.backPoorFam)+"户 ")]),a("div",{staticClass:"itemright"},[e._v(" "+e._s(e.obj.backPoorNum)+"人 ")])])]),a("div",{staticClass:"btn-con"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("添加")]),a("el-button",{attrs:{type:"primary"}},[e._v("导入导出")])],1)]),a("div",{staticClass:"table-con"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"地区",align:"center",width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.cityName))])]}}])}),a("el-table-column",{attrs:{label:"户主姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.poorName))])]}}])}),a("el-table-column",{attrs:{label:"户主身份证号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.cardNo))])]}}])}),a("el-table-column",{attrs:{label:"详细地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.address))])]}}])}),a("el-table-column",{attrs:{label:"户主电话号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.isaz))])]}}])}),a("el-table-column",{attrs:{label:"是否住在安置区",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.name))])]}}])}),a("el-table-column",{attrs:{label:"安置区地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(o.azaddress))])]}}])}),a("el-table-column",{attrs:{label:"户属性",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("filterType")(o.type)))])]}}])}),a("el-table-column",{attrs:{label:"审核状态",align:"center",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.goDetail(o.poorId)}}},[e._v("详情")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleUpdate(o)}}},[e._v("修改")]),a("el-popover",{ref:"popover-"+o.poorId,attrs:{placement:"top",width:"160",title:"确定删除此行数据？",trigger:"click"}},[a("div",[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.$refs["popover-"+o.poorId].doClose()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.$refs["popover-"+o.poorId].doClose(),e.handleDelete(o)}}},[e._v("确定")])],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"text"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"currentPage",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getList}})],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("div",{staticClass:"mform"},[a("el-row",[a("el-col",[a("el-form",{ref:"dataForm",staticStyle:{width:"100%"},attrs:{rules:e.rules,model:e.temp,"label-position":e.labelPosition,"label-width":"150px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"户主姓名",prop:"poorName"}},[a("el-input",{attrs:{placeholder:"姓名",maxlength:"60",clearable:""},model:{value:e.temp.poorName,callback:function(t){e.$set(e.temp,"poorName",t)},expression:"temp.poorName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"户主身份证号",prop:"cardNo"}},[a("el-input",{attrs:{placeholder:"身份证号",maxlength:"64",clearable:""},model:{value:e.temp.cardNo,callback:function(t){e.$set(e.temp,"cardNo",t)},expression:"temp.cardNo"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入详细地址",maxlength:"64",clearable:""},model:{value:e.temp.address,callback:function(t){e.$set(e.temp,"address",t)},expression:"temp.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"户主电话号码",prop:"telephone"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"64",clearable:""},model:{value:e.temp.telephone,callback:function(t){e.$set(e.temp,"telephone",t)},expression:"temp.telephone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否住在安置区",prop:"isaz"}},[a("el-radio-group",{model:{value:e.temp.isaz,callback:function(t){e.$set(e.temp,"isaz",t)},expression:"temp.isaz"}},[a("el-radio",{attrs:{label:"1"}},[e._v("是")]),a("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"安置区地址",prop:"azaddress"}},[a("el-input",{attrs:{placeholder:"请输入安置区地址",maxlength:"60",clearable:""},model:{value:e.temp.azaddress,callback:function(t){e.$set(e.temp,"azaddress",t)},expression:"temp.azaddress"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"户属性",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择户属性"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},[a("el-option",{attrs:{label:"脱贫户",value:"0"}}),a("el-option",{attrs:{label:"脱贫不稳定户",value:"1"}})],1)],1)],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary",disabled:e.disabledStatus},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" 确定 ")])],1)])],1)])],1)],1)},i=[],n=a("5530"),l=a("2909"),r=a("b8d7"),s=a("6724"),c=a("a888"),d=a("333d"),u=a("211c"),p=a("10a7"),m={components:{CityTree:u["a"],Pagination:d["a"]},directives:{waves:s["a"],elDragDialog:c["a"]},filters:{filterType:function(e){return"0"===e?"脱贫户":"1"===e?"脱贫不稳定户":void 0}},data:function(){return{listQuery:{currentPage:1,pageSize:10},options:[{value:"霞浦县",label:"霞浦县",children:[{value:"北壁乡",label:"北壁乡",children:[{value:"长春镇",label:"长春镇",children:[{value:"松城街道",label:"松城街道"},{value:"松港街道",label:"松港街道"},{value:"松山街道",label:"松山街道"}]},{value:"牙城镇",label:"牙城镇"},{value:"溪南镇",label:"溪南镇"},{value:"沙江镇",label:"沙江镇"},{value:"下浒镇",label:"下浒镇"},{value:"三沙镇",label:"三沙镇"}]},{value:"海岛乡",label:"海岛乡"},{value:"盐田畲族乡",label:"盐田畲族乡"},{value:"崇儒畲族乡",label:"崇儒畲族乡"},{value:"柏洋乡",label:"柏洋乡"}]}],disabledStatus:!1,textMap:{update:"编辑",create:"新增"},rules:{cityName:[{required:!0,message:"地区不能为空",trigger:["blur","change"]}],poorName:[{required:!0,message:"户主姓名不能为空",trigger:["blur","change"]}],cardNo:[{required:!0,message:"户主身份证号不能为空",trigger:["blur","change"]}],address:[{required:!0,message:"详细地址不能为空",trigger:["blur","change"]}],telephone:[{required:!0,message:"户主电话号码不能为空",trigger:["blur","change"]}],isaz:[{required:!0,message:"是否住在安置区不能为空",trigger:["blur","change"]}],azaddress:[{required:!0,message:"安置区地址不能为空",trigger:["blur","change"]}],type:[{required:!0,message:"户属性不能为空",trigger:["blur","change"]}]},labelPosition:"right",temp:{poorId:void 0},dialogFormVisible1:!1,dialogStatus:"",obj:{},tableData:[{cityName:"福州"}],cityId:"",total:0}},created:function(){window.innerWidth<700&&(this.labelPosition="top"),this.getList(),this.getpoorInformation()},watch:{},methods:{getpoorInformation:function(){var e=this,t=Object.assign({},{cityId:this.cityId,cityIdd:this.cityId});Object(r["d"])(t).then((function(t){e.obj=t.obj}))},handleDelete:function(e){var t=this;Object(r["b"])({poorId:e.poorId}).then((function(e){console.log("responseresponse",e),200===e.code?(t.$message({message:"删除成功",type:"success",duration:2e3}),t.handleReset()):t.handleWarning(e)}))},getList:function(){var e=this,t=Object(p["a"])(this.listQuery.currentPage,this.listQuery.pageSize),a=t.currentPage,o=t.pageSize,i=Object.assign({},{cityId:this.cityId,cityIdd:this.cityId,limit:o,offset:a});Object(r["e"])(i).then((function(t){if(console.log("response",t),200===t.code){var a=Object(l["a"])(t.obj),o=a.pop();e.tableData=a,e.total=o.total,console.log("this.tableData",e.tableData)}}))},goDetail:function(e){this.$router.push({path:"PovertyInfo-detail",query:{id:e}})},handleGetCityId:function(e){this.cityId=e.cityId,this.getList(),this.getpoorInformation()},checkTenantName:function(e,t,a){if(!t)return a(new Error(this.$t("systenant.tenantName-required")));a()},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e,{isaz:String(e.isaz),type:String(e.type)}),this.dialogStatus="update",this.dialogFormVisible1=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible1=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},resetTemp:function(){this.temp={poorId:void 0}},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a={};a.poorId=e.temp.poorId,a.poorName=e.temp.poorName,a.cardNo=e.temp.cardNo,a.address=e.temp.address,a.telephone=e.temp.telephone,a.isaz=e.temp.isaz,a.azaddress=e.temp.azaddress,a.type=e.temp.type,a.cityId=e.cityId,e.disabledStatus=!0,Object(r["c"])(a).then((function(t){200===t.code?(e.disabledStatus=!1,e.dialogFormVisible1=!1,e.$message({message:"修改成功",type:"success",duration:2e3}),e.handleReset()):e.handleWarning(t)}))}}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.disabledStatus=!0,e.temp=Object(n["a"])(Object(n["a"])({},e.temp),{},{cityId:e.cityId}),Object(r["a"])(e.temp).then((function(t){console.log("response",t),200===t.code?(e.disabledStatus=!1,e.dialogFormVisible1=!1,e.$message({message:"添加成功",type:"success",duration:2e3}),e.handleReset()):e.handleWarning(t)})))}))},handleFilter:function(){this.listQuery.currentPage=1,this.getList(),this.getpoorInformation()},handleReset:function(){this.listQuery.tenantCode=void 0,this.listQuery.tenantName=void 0,this.listQuery.tenantContact=void 0,this.listQuery.tenantEmail=void 0,this.listQuery.tenantTel=void 0,this.handleFilter()},handleWarning:function(e){this.$message({message:e.message||e,type:"warning",duration:2e3}),this.disabledStatus=!1}}},f=m,b=(a("2451"),a("2877")),v=Object(b["a"])(f,o,i,!1,null,"fbcc20b0",null);t["default"]=v.exports},a888:function(e,t,a){"use strict";a("caad"),a("2532"),a("ac1f"),a("5319"),a("99af");var o={bind:function(e,t,a){var o=e.querySelector(".el-dialog__header"),i=e.querySelector(".el-dialog");o.style.cssText+=";cursor:move;",i.style.cssText+=";top:0px;";var n=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();o.onmousedown=function(e){var t=e.clientX-o.offsetLeft,l=e.clientY-o.offsetTop,r=i.offsetWidth,s=i.offsetHeight,c=document.body.clientWidth,d=document.body.clientHeight,u=i.offsetLeft,p=c-i.offsetLeft-r,m=i.offsetTop,f=d-i.offsetTop-s,b=n(i,"left"),v=n(i,"top");b.includes("%")?(b=+document.body.clientWidth*(+b.replace(/\%/g,"")/100),v=+document.body.clientHeight*(+v.replace(/\%/g,"")/100)):(b=+b.replace(/\px/g,""),v=+v.replace(/\px/g,"")),document.onmousemove=function(e){var o=e.clientX-t,n=e.clientY-l;-o>u?o=-u:o>p&&(o=p),-n>m?n=-m:n>f&&(n=f),i.style.cssText+=";left:".concat(o+b,"px;top:").concat(n+v,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},i=function(e){e.directive("el-drag-dialog",o)};window.Vue&&(window["el-drag-dialog"]=o,Vue.use(i)),o.install=i;t["a"]=o},b8d7:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return s}));var o=a("b775");function i(e){return Object(o["a"])({url:"/admin/v1/poor/poorinfoList",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/admin/v1/poor/addpoorinfo",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/admin/v1/poor/editpoorinfo",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/admin/v1/poor/delpoorinfo",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/admin/v1/poor/poorInformation",method:"post",data:e})}}}]);